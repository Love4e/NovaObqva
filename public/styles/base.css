/* Допълнителни козметики */
img { image-rendering: -webkit-optimize-contrast; }

/* ---- Mobile dock – ВГРАДЕН ПО ПОДРАЗБИРАНЕ ---- */
:root{
  /* Оставяме променливите за съвместимост, ако решиш пак да го правиш fixed */
  --dock-h: 72px;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}
/* fallback за по-стари Safari */
@supports (padding-bottom: constant(safe-area-inset-bottom)) {
  :root { --safe-bottom: constant(safe-area-inset-bottom); }
}

/* Когато докът е вграден, не ни трябва долен отстъп */
.pb-dock{ padding-bottom: 0 !important; }

/* Вграден док: част от потока (НЕ е fixed) */
#mobileDock{
  position: static;                /* ключовото за “вграден” */
  z-index: auto;
  padding-bottom: var(--safe-bottom);    /* да не влиза под iOS Home индикатора, ако има */
  background: rgba(255,255,255,.96);
  backdrop-filter: saturate(120%) blur(8px);
  -webkit-backdrop-filter: saturate(120%) blur(8px);
  border-top: 1px solid #e5e7eb;
}

/* Ако все пак някъде използваш sticky submit лента – да не се бута нагоре от дока */
#stickyBar{
  z-index: 55;     /* над съдържанието, под модалите */
  bottom: 0;       /* без offset за док */
}

/* Модалите и feature overlay остават над всичко */
#adModal{ z-index: 60; }
.feature-mask{ z-index: 70; }

/* ---- Опция: клас за FIXED док, ако някой екран трябва да го “закове” долу ---- */
/* Добави class="has-fixed-dock" на <body> само там, където искаш фикснато поведение */
body.has-fixed-dock #mobileDock{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 45;
}
body.has-fixed-dock .pb-dock{
  padding-bottom: calc(var(--dock-h) + var(--safe-bottom)) !important;
}
body.has-fixed-dock #stickyBar{
  bottom: calc(var(--dock-h) + var(--safe-bottom));
}
